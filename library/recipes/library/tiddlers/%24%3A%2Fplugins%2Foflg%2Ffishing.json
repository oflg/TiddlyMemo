{"author":"oflg","core-version":">=5.2.3","description":"Integrate Spaced Repetition System into TiddlyWiki","list":"readme license","name":"Fishing","plugin-type":"plugin","source":"https://github.com/oflg/fishing","title":"$:/plugins/oflg/fishing","version":"2.4.6","dependents":"","type":"application/json","text":"{\"tiddlers\":{\"$:/plugins/oflg/fishing/license\":{\"title\":\"$:/plugins/oflg/fishing/license\",\"text\":\"MIT License\\n\\nCopyright (c) 2021-2022 oflg\\n\\nPermission is hereby granted, free of charge, to any person obtaining a copy\\nof this software and associated documentation files (the \\\"Software\\\"), to deal\\nin the Software without restriction, including without limitation the rights\\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\ncopies of the Software, and to permit persons to whom the Software is\\nfurnished to do so, subject to the following conditions:\\n\\nThe above copyright notice and this permission notice shall be included in all\\ncopies or substantial portions of the Software.\\n\\nTHE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\\nSOFTWARE.\",\"type\":\"text/vnd.tiddlywiki\"},\"$:/plugins/oflg/fishing/readme\":{\"title\":\"$:/plugins/oflg/fishing/readme\",\"text\":\"Installation and usage tutorial is available at [[TiddlyMemo Manual|https://tiddlymemo.org/manual/]].\\n\\n可在[[墨屉手册|https://tiddlymemo.org/manual/zh-Hans]]查看安装使用教程。\",\"type\":\"text/vnd.tiddlywiki\"},\"$:/plugins/oflg/fishing/buttons/fishinghook/discard\":{\"title\":\"$:/plugins/oflg/fishing/buttons/fishinghook/discard\",\"key\":\"((fishing-discard))\",\"tags\":\"$:/tags/FishingHook $:/tags/KeyboardShortcut\",\"button-classes\":\"discard tc-tiddlylink\",\"list-after\":\"\",\"caption\":\"{{$:/language/fishing/discard}}\",\"description\":\"{{$:/language/fishing/discardtip}}\",\"condition\":\"[<targetTiddler>]\",\"text\":\"<$list\\n    filter=\\\"[<targetTiddler>!is[blank]] ~[list[$:/temp/fishing]first[]!is[blank]]\\\"\\n>\\n    <$navigator\\n        story=\\\"$:/StoryList\\\"\\n        history=\\\"$:/HistoryList\\\"\\n        relinkOnRename=\\\"yes\\\"\\n    >\\n        <$fieldmangler>\\n            <$action-sendmessage\\n                $message=\\\"tm-remove-tag\\\"\\n                $param=\\\"?\\\"\\n            />\\n            <$action-sendmessage\\n                $message=\\\"tm-add-tag\\\"\\n                $param=\\\"!\\\"\\n            />\\n            <$action-deletefield\\n                due\\n                interval\\n                grade\\n                difficulty\\n                stability\\n                retrievability\\n                lapses\\n                reps\\n                review\\n            />\\n            <$list\\n                filter=\\\"[list[$:/temp/fishing]match<currentTiddler>]\\\"\\n                variable=\\\"null\\\"\\n            >\\n                <$action-deletetiddler\\n                    $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\\n                />\\n                <$action-setfield\\n                    $tiddler=\\\"$:/temp/fishing\\\"\\n                    text=\\\"\\\"\\n                    type=\\\"\\\"\\n                    list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\\n                />\\n                <$action-setfield\\n                    $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\\n                    text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\\n                />\\n                <$action-sendmessage\\n                    $message=\\\"tm-close-tiddler\\\"\\n                />\\n                <$action-navigate\\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\\n                />\\n            </$list>\\n        </$fieldmangler>\\n    </$navigator>\\n</$list>\"},\"$:/plugins/oflg/fishing/buttons/fishinghook/forget\":{\"title\":\"$:/plugins/oflg/fishing/buttons/fishinghook/forget\",\"key\":\"((fishing-forget))\",\"tags\":\"$:/tags/FishingHook $:/tags/KeyboardShortcut\",\"button-classes\":\"forget tc-tiddlylink\",\"caption\":\"{{$:/language/fishing/forget}}\",\"description\":\"{{$:/language/fishing/forgettip}}\",\"condition\":\"[<targetTiddler>has[grade]]\",\"text\":\"<$list\\n    filter=\\\"[<targetTiddler>!is[blank]] ~[list[$:/temp/fishing]first[]!is[blank]has[grade]]\\\"\\n>\\n    <$navigator\\n        story=\\\"$:/StoryList\\\"\\n        history=\\\"$:/HistoryList\\\"\\n        relinkOnRename=\\\"yes\\\"\\n    >\\n        <$fieldmangler>\\n            <$action-sendmessage\\n                $message=\\\"tm-add-tag\\\"\\n                $param=\\\"?\\\"\\n            />\\n            <$action-sendmessage\\n                $message=\\\"tm-remove-tag\\\"\\n                $param=\\\"!\\\"\\n            />\\n            <$action-learn\\n                $grade=\\\"0\\\"\\n            />\\n            <$list\\n                filter=\\\"[list[$:/temp/fishing]match<currentTiddler>]\\\"\\n                variable=\\\"null\\\"\\n            >\\n                <$action-deletetiddler\\n                    $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\\n                />\\n                <$action-setfield\\n                    $tiddler=\\\"$:/temp/fishing\\\"\\n                    text=\\\"\\\"\\n                    type=\\\"\\\"\\n                    list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\\n                />\\n                <$action-setfield\\n                    $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\\n                    text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\\n                />\\n                <$action-sendmessage\\n                    $message=\\\"tm-close-tiddler\\\"\\n                />\\n                <$action-navigate\\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\\n                />\\n            </$list>\\n        </$fieldmangler>\\n    </$navigator>\\n</$list>\"},\"$:/plugins/oflg/fishing/buttons/fishinghook/grasp\":{\"title\":\"$:/plugins/oflg/fishing/buttons/fishinghook/grasp\",\"key\":\"((fishing-grasp))\",\"tags\":\"$:/tags/FishingHook $:/tags/KeyboardShortcut\",\"button-classes\":\"grasp tc-tiddlylink\",\"list-after\":\"$:/plugins/oflg/fishing/buttons/fishinghook/remember\",\"caption\":\"{{$:/language/fishing/grasp}}\",\"description\":\"{{$:/language/fishing/grasptip}}\",\"condition\":\"[<targetTiddler>has[grade]]\",\"text\":\"<$list\\n    filter=\\\"[<targetTiddler>!is[blank]] ~[list[$:/temp/fishing]first[]!is[blank]has[grade]]\\\"\\n>\\n    <$navigator\\n        story=\\\"$:/StoryList\\\"\\n        history=\\\"$:/HistoryList\\\"\\n        relinkOnRename=\\\"yes\\\"\\n    >\\n        <$fieldmangler>\\n            <$action-sendmessage\\n                $message=\\\"tm-add-tag\\\"\\n                $param=\\\"?\\\"\\n            />\\n            <$action-sendmessage\\n                $message=\\\"tm-remove-tag\\\"\\n                $param=\\\"!\\\"\\n            />\\n            <$action-learn\\n                $grade=\\\"2\\\"\\n            />\\n            <$list\\n                filter=\\\"[list[$:/temp/fishing]match<currentTiddler>]\\\"\\n                variable=\\\"null\\\"\\n            >\\n                 <$action-deletetiddler\\n                    $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\\n                />\\n                <$action-setfield\\n                    $tiddler=\\\"$:/temp/fishing\\\"\\n                    text=\\\"\\\"\\n                    type=\\\"\\\"\\n                    list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\\n                />\\n                <$action-setfield\\n                    $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\\n                    text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\\n                />\\n                <$action-sendmessage\\n                    $message=\\\"tm-close-tiddler\\\"\\n                />\\n                <$action-navigate\\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\\n                />\\n            </$list>\\n        </$fieldmangler>\\n    </$navigator>\\n</$list>\"},\"$:/plugins/oflg/fishing/buttons/fishinghook/learn\":{\"title\":\"$:/plugins/oflg/fishing/buttons/fishinghook/learn\",\"key\":\"((fishing-learn))\",\"tags\":\"$:/tags/FishingHook $:/tags/KeyboardShortcut\",\"button-classes\":\"learn tc-tiddlylink\",\"list-before\":\"\",\"caption\":\"{{$:/language/fishing/learn}}\",\"description\":\"{{$:/language/fishing/learntip}}\",\"condition\":\"[<targetTiddler>!has[grade]]\",\"text\":\"<$list\\n    filter=\\\"[<targetTiddler>!is[blank]] ~[list[$:/temp/fishing]first[]!is[blank]!has[grade]]\\\"\\n>\\n    <$navigator\\n        story=\\\"$:/StoryList\\\"\\n        history=\\\"$:/HistoryList\\\"\\n        relinkOnRename=\\\"yes\\\"\\n    >\\n        <$fieldmangler>\\n            <$action-sendmessage\\n                $message=\\\"tm-add-tag\\\"\\n                $param=\\\"?\\\"\\n            />\\n            <$action-sendmessage\\n                $message=\\\"tm-remove-tag\\\"\\n                $param=\\\"!\\\"\\n            />\\n            <$list\\n                filter=\\\"[<currentTiddler>!search:caption:literal[Excerpt}}]]\\\"\\n                variable=\\\"null\\\"\\n            >\\n                <$action-learn\\n                    $grade=\\\"-1\\\"\\n                />\\n            </$list>\\n            <$list\\n                filter=\\\"[<currentTiddler>search:caption:literal[Excerpt}}]]\\\"\\n                variable=\\\"null\\\"\\n            >\\n                <$action-setfield\\n                    interval={{{ [<currentTiddler>get[interval]!is[blank]else[0]add[1]] }}}\\n                    due={{{ [<currentTiddler>get[interval]!is[blank]else[0]add[1]due[]] }}}\\n                    review=<<now \\\"[UTC]YYYY0MM0DD0hh0mm0ssXXX\\\">>\\n                />\\n            </$list>\\n            <$list\\n                filter=\\\"[list[$:/temp/fishing]match<currentTiddler>]\\\"\\n                variable=\\\"null\\\"\\n            >\\n                <$action-deletetiddler\\n                    $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\\n                />\\n                <$action-setfield\\n                    $tiddler=\\\"$:/temp/fishing\\\"\\n                    text=\\\"\\\"\\n                    type=\\\"\\\"\\n                    list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\\n                />\\n                <$action-setfield\\n                    $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\\n                    text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\\n                />\\n                <$action-sendmessage\\n                    $message=\\\"tm-close-tiddler\\\"\\n                />\\n                <$action-navigate\\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\\n                />\\n            </$list>\\n        </$fieldmangler>\\n    </$navigator>\\n</$list>\"},\"$:/plugins/oflg/fishing/buttons/fishinghook/remember\":{\"title\":\"$:/plugins/oflg/fishing/buttons/fishinghook/remember\",\"key\":\"((fishing-remember))\",\"tags\":\"$:/tags/FishingHook $:/tags/KeyboardShortcut\",\"button-classes\":\"remember tc-tiddlylink\",\"list-after\":\"$:/plugins/oflg/fishing/buttons/fishinghook/forget\",\"caption\":\"{{$:/language/fishing/remember}}\",\"description\":\"{{$:/language/fishing/remembertip}}\",\"condition\":\"[<targetTiddler>has[grade]]\",\"text\":\"<$list\\n    filter=\\\"[<targetTiddler>!is[blank]] ~[list[$:/temp/fishing]first[]!is[blank]has[grade]]\\\"\\n>\\n    <$navigator\\n        story=\\\"$:/StoryList\\\"\\n        history=\\\"$:/HistoryList\\\"\\n        relinkOnRename=\\\"yes\\\"\\n    >\\n        <$fieldmangler>\\n            <$action-sendmessage\\n                $message=\\\"tm-add-tag\\\"\\n                $param=\\\"?\\\"\\n            />\\n            <$action-sendmessage\\n                $message=\\\"tm-remove-tag\\\"\\n                $param=\\\"!\\\"\\n            />\\n            <$action-learn\\n                $grade=\\\"1\\\"\\n            />\\n            <$list\\n                filter=\\\"[list[$:/temp/fishing]match<currentTiddler>]\\\"\\n                variable=\\\"null\\\"\\n            >\\n                <$action-deletetiddler\\n                    $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\\n                />\\n                <$action-setfield\\n                    $tiddler=\\\"$:/temp/fishing\\\"\\n                    text=\\\"\\\"\\n                    type=\\\"\\\"\\n                    list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\\n                />\\n                <$action-setfield\\n                    $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\\n                    text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\\n                />\\n                <$action-sendmessage\\n                    $message=\\\"tm-close-tiddler\\\"\\n                />\\n                <$action-navigate\\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\\n                />\\n            </$list>\\n        </$fieldmangler>\\n    </$navigator>\\n</$list>\"},\"$:/plugins/oflg/fishing/buttons/fishingrod/addfilter\":{\"title\":\"$:/plugins/oflg/fishing/buttons/fishingrod/addfilter\",\"tags\":\"$:/tags/FishingGrod\",\"list-after\":\"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter\",\"icon\":\"$:/core/images/plus-button\",\"description\":\"{{{ [{$:/language/fishing/addfiltertip}addsuffix[ : ]addsuffix{$:/temp/fishing!!fishingrod}] }}}\",\"condition\":\"[{$:/temp/fishing!!fishingrod}!is[blank]] -[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]match{$:/temp/fishing!!fishingrod}]\",\"button-classes\":\"fishingrod-button\",\"text\":\"<$action-setfield\\n    $tiddler={{{ [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] }}}\\n    type=\\\"application/json\\\"\\n/>\"},\"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter\":{\"title\":\"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter\",\"tags\":\"$:/tags/FishingGrod\",\"list-before\":\"\",\"popup\":\"$:/plugins/oflg/fishing/buttons/fishingrod/popup/commonfilter\",\"icon\":\"$:/core/images/down-arrow\",\"description\":\"{{$:/language/fishing/commonfiltertip}}\",\"condition\":\"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]first[]]\",\"button-classes\":\"fishingrod-button\",\"text\":\"<$reveal\\n    state=<<qualify \\\"$:/state/popup/$:/plugins/oflg/fishing/fishingrod/fishingline\\\">>\\n    type=\\\"popup\\\"\\n    position=\\\"below\\\"\\n    animate=\\\"yes\\\"\\n>\\n    <div\\n        class=\\\"tc-drop-down\\\"\\n        style=\\\"min-width:0;font-size:10pt;\\\"\\n    >\\n        <$list\\n            filter=\\\"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]sort[title]]\\\"\\n            variable=\\\"fishingrod\\\"\\n        >\\n            <$button\\n                tooltip={{{ [{$:/language/fishing/fillfiltertip}addsuffix[ : ]addsuffix<fishingrod>] }}}\\n                aria-label={{{ [{$:/language/fishing/fillfiltertip}addsuffix[ : ]addsuffix<$:/temp/fishing!!fishingrod>] }}}\\n                popup=<<qualify \\\"$:/state/popup/$:/plugins/oflg/fishing/fishingrod/fishingline\\\">>\\n                class=\\\"tc-btn-invisible\\\"\\n            >\\n                <$action-setfield\\n                    $tiddler=\\\"$:/temp/fishing\\\"\\n                    fishingrod=<<fishingrod>>\\n                />\\n                <$text\\n                    text={{{ [<fishingrod>addprefix[$:/plugins/oflg/fishing/fishingrod/]get[caption]] ~[<fishingrod>] }}}\\n                />\\n            </$button>\\n        </$list>\\n    </div>\\n</$reveal>\"},\"$:/plugins/oflg/fishing/buttons/fishingrod/customisefilter\":{\"title\":\"$:/plugins/oflg/fishing/buttons/fishingrod/customisefilter\",\"tags\":\"$:/tags/FishingGrod\",\"list-after\":\"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter\",\"popup\":\"$:/plugins/oflg/fishing/buttons/fishingrod/popup/customisefilter\",\"icon\":\"$:/core/images/options-button\",\"description\":\"{{{ [{$:/language/fishing/customisefiltertip}addsuffix[ : ]addsuffix{$:/temp/fishing!!fishingrod}] }}}\",\"condition\":\"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]match{$:/temp/fishing!!fishingrod}]\",\"button-classes\":\"fishingrod-button\",\"text\":\"<$action-setfield\\n    $tiddler=\\\"$:/temp/fishing\\\"\\n    text=\\\"\\\"\\n    list=\\\"\\\"\\n/>\"},\"$:/plugins/oflg/fishing/buttons/fishingrod/exportdata\":{\"title\":\"$:/plugins/oflg/fishing/buttons/fishingrod/exportdata\",\"tags\":\"$:/tags/FishingGrod\",\"icon\":\"$:/core/images/export-button\",\"description\":\"{{$:/language/fishing/exportdatatip}}\",\"condition\":\"[[all]]\",\"button-classes\":\"fishingrod-button\",\"text\":\"\\\\define tv-action-refresh-policy() always\\n\\n<$action-exportdata\\n    $tiddler=\\\"$:/temp/fishing/fsrsdata\\\"\\n/>\\n<$action-sendmessage\\n    $message=\\\"tm-download-file\\\"\\n    $param=\\\"$:/core/templates/exporters/TidFile\\\"\\n    exportFilter=\\\"[[$:/temp/fishing/fsrsdata]]\\\"\\n    filename={{{ [<now \\\"[UTC]YYYY0MM0DD0hh0mm0ssXXX\\\">addprefix[.]addprefix{$:/status/UserName}addsuffix[.txt]] }}}\\n/>\\n<$action-deletetiddler\\n    $tiddler=\\\"$:/temp/fishing/fsrsdata\\\"\\n/>\\n<$action-sendmessage\\n    $message=\\\"tm-open-external-window\\\"\\n    $param=\\\"https://github.com/open-spaced-repetition/fsrs.js/issues/new?assignees=&labels=data&template=upload-fsrs-algorithm-data-template.md&title=Upload+data\\\"\\n/>\"},\"$:/plugins/oflg/fishing/buttons/fishingrod/popup/commonfilter\":{\"title\":\"$:/plugins/oflg/fishing/buttons/fishingrod/popup/commonfilter\",\"text\":\"<div\\n    style=\\\"min-width:0;font-size:10pt;\\\"\\n>\\n    <$list\\n        filter=\\\"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]sort[title]]\\\"\\n        variable=\\\"fishingrod\\\"\\n    >\\n        <$button\\n            tooltip={{{ [{$:/language/fishing/fillfiltertip}addsuffix[ : ]addsuffix<fishingrod>] }}}\\n            aria-label={{{ [{$:/language/fishing/fillfiltertip}addsuffix[ : ]addsuffix<$:/temp/fishing!!fishingrod>] }}}\\n            class=\\\"tc-btn-invisible\\\"\\n        >\\n            <$action-setfield\\n                $tiddler=\\\"$:/temp/fishing\\\"\\n                fishingrod=<<fishingrod>>\\n            />\\n            <$action-deletetiddler\\n                $filter=\\\"[prefix[$:/state/FishingButtonPopup]]\\\"\\n            />\\n            <$text\\n                text={{{ [<fishingrod>addprefix[$:/plugins/oflg/fishing/fishingrod/]get[caption]] ~[<fishingrod>] }}}\\n            />\\n        </$button>\\n    </$list>\\n</div>\"},\"$:/plugins/oflg/fishing/buttons/fishingrod/popup/customisefilter\":{\"title\":\"$:/plugins/oflg/fishing/buttons/fishingrod/popup/customisefilter\",\"text\":\"<div\\n    style=\\\"min-width:0;padding:0 10px;\\\"\\n>\\n    {{$:/language/fishing/setalias}}\\n    <div\\n        style=\\\"display:flex;justify-content:space-between;font-size:10pt;padding:2px 1px;\\\"\\n    >\\n        <$edit-text tiddler={{{ [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] }}} field=\\\"caption\\\" placeholder={{$:/language/fishing/typealias}} tag=\\\"input\\\"/>\\n    </div>\\n    {{$:/language/fishing/setorder}}\\n    <$list\\n        filter=\\\"due undue\\\"\\n        variable=\\\"pondname\\\"\\n    >\\n        <div\\n            style=\\\"display:flex;justify-content:space-between;font-size:10pt;padding:2px 1px;\\\"\\n        >\\n            <$text text={{{ [[$:/language/fishing/]addsuffix<pondname>get[text]] }}}/>\\n            <$select\\n                tiddler={{{ [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] }}}\\n                index={{{ [<pondname>addsuffix[order]] }}}\\n                default={{{ [<pondname>match[due]then{$:/config/fishingpond/autoorder}] ~[<pondname>match[undue]then{$:/config/fishingpond/modifiedorder}] }}}\\n            >\\n                <$list\\n                    filter=\\\"[all[tiddlers+shadows]removeprefix[$:/config/fishingpond/]suffix[order]]\\\"\\n                    variable=\\\"pondorder\\\"\\n                >\\n                    <option\\n                        value={{{ [[$:/config/fishingpond/]addsuffix<pondorder>get[text]] }}}\\n                    >\\n                        <$text text={{{ [[$:/language/fishing/]addsuffix<pondorder>get[text]] }}}>\\n                    </option>\\n                </$list>\\n            </$select>\\n        </div>\\n    </$list>\\n</div>\"},\"$:/plugins/oflg/fishing/buttons/fishingrod/unaddfilter\":{\"title\":\"$:/plugins/oflg/fishing/buttons/fishingrod/unaddfilter\",\"tags\":\"$:/tags/FishingGrod\",\"list-after\":\"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter\",\"icon\":\"$:/core/images/cancel-button\",\"description\":\"{{{ [{$:/language/fishing/unaddfiltertip}addsuffix[ : ]addsuffix{$:/temp/fishing!!fishingrod}] }}}\",\"condition\":\"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]match{$:/temp/fishing!!fishingrod}]\",\"button-classes\":\"fishingrod-button\",\"text\":\"\\n<$action-deletetiddler\\n    $tiddler={{{ [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] }}}\\n/>\\n<$action-deletetiddler\\n    $tiddler=\\\"$:/temp/fishing\\\"\\n/>\"},\"$:/plugins/oflg/fishing/buttons/fishingrod/viewfilter\":{\"title\":\"$:/plugins/oflg/fishing/buttons/fishingrod/viewfilter\",\"tags\":\"$:/tags/FishingGrod\",\"list-after\":\"\",\"icon\":\"$:/core/images/advanced-search-button\",\"description\":\"{{{ [{$:/language/fishing/viewfiltertip}addsuffix[ : ]addsuffix{$:/temp/fishing!!fishingrod}] }}}\",\"condition\":\"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]match{$:/temp/fishing!!fishingrod}]\",\"button-classes\":\"fishingrod-button\",\"text\":\"<$action-setfield\\n    $tiddler=\\\"$:/temp/fishing\\\"\\n    text=\\\"\\\"\\n    list=\\\"\\\"\\n/>\\n<$action-setfield\\n    $tiddler=\\\"$:/temp/advancedsearch\\\"\\n    text=\\\"[{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]shadowsource[]] [subfilter{$:/temp/fishing!!fishingrod}is[tiddler]] [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]shadowsource[]plugintiddlers[]is[tiddler]]\\\"\\n/>\\n<$action-setfield\\n    $tiddler=\\\"$:/temp/advancedsearch/input\\\"\\n    text=\\\"[{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]shadowsource[]] [subfilter{$:/temp/fishing!!fishingrod}is[tiddler]] [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]shadowsource[]plugintiddlers[]is[tiddler]]\\\"\\n/>\\n<$action-setfield\\n    $tiddler=\\\"$:/temp/advancedsearch/refresh\\\"\\n    text=\\\"yes\\\"\\n/>\\n<$action-setfield\\n    $tiddler=\\\"$:/state/tab--1498284803\\\"\\n    text=\\\"$:/core/ui/AdvancedSearch/Filter\\\"\\n/>\\n<$action-navigate\\n    $to=\\\"$:/AdvancedSearch\\\"\\n/>\\n<$action-sendmessage\\n    $message=\\\"tm-focus-selector\\\"\\n    $param=\\\".tc-advanced-search input\\\"\\n/>\"},\"$:/plugins/oflg/fishing/data\":{\"title\":\"$:/plugins/oflg/fishing/data\",\"type\":\"application/json\",\"text\":\"{\\n    \\\"requestRetention\\\": 0.9,\\n    \\\"difficultyDecay\\\" : -0.7,\\n    \\\"stabilityDecay\\\" : -0.2,\\n    \\\"increaseFactor\\\" : 60,\\n    \\\"totalCase\\\": 0,\\n    \\\"totalDiff\\\": 0,\\n    \\\"totalReview\\\": 0,\\n    \\\"defaultDifficulty\\\": 5,\\n    \\\"defaultStability\\\": 2,\\n    \\\"stabilityDataArry\\\": []\\n}\\n\"},\"$:/plugins/oflg/fishing/filters/due.js\":{\"title\":\"$:/plugins/oflg/fishing/filters/due.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oflg/fishing/filters/due.js\\ntype: application/javascript\\nmodule-type: filteroperator\\n\\nCalculate the due of tiddler\\n\\n\\\\*/\\n(function () {\\n\\n    /*jslint node: true, browser: true */\\n    /*global $tw: false */\\n    \\\"use strict\\\";\\n\\n    /*\\n    Export our filter function\\n    */\\n    exports.due = function (source, operator, options) {\\n        var results = [];\\n        source(function (tiddler, title) {\\n            var addDay = Number(title) >= 1 ? Number(title) : 1;\\n\\n            var dateTime = addDay * 86400000 + new Date().getTime();\\n            var due = new Date(dateTime).toISOString().replace(/-|T|:|\\\\.|Z/g, \\\"\\\");\\n\\n            results.push(due);\\n        });\\n        return results;\\n    };\\n\\n})();\",\"type\":\"application/javascript\",\"module-type\":\"filteroperator\"},\"$:/plugins/oflg/fishing/filters/interval.js\":{\"title\":\"$:/plugins/oflg/fishing/filters/interval.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oflg/fishing/filters/interval.js\\ntype: application/javascript\\nmodule-type: filteroperator\\n\\nCalculate the interval of tiddler\\n\\n\\\\*/\\n(function () {\\n\\n    /*jslint node: true, browser: true */\\n    /*global $tw: false */\\n    \\\"use strict\\\";\\n\\n    /*\\n    Export our filter function\\n    */\\n    exports.interval = function (source, operator, options) {\\n        var results = [];\\n        source(function (tiddler, title) {\\n            var twTime = title;\\n\\n            var twTimeDay = $tw.wiki.filterTiddlers(\\\"[[\\\" + twTime + \\\"]format:date[YYYY-0MM-0DD]]\\\")[0],\\n                nowDay = new Date().toISOString().split(\\\"T\\\")[0];\\n\\n            var diffTime = new Date(nowDay) - new Date(twTimeDay);\\n\\n            var diffDay = diffTime / 86400000 || 0;\\n\\n            var interval = String(diffDay > 0 ? diffDay : 0);\\n\\n            results.push(interval);\\n        });\\n        return results;\\n    };\\n\\n})();\\n\",\"type\":\"application/javascript\",\"module-type\":\"filteroperator\"},\"$:/plugins/oflg/fishing/filters/sortrandom.js\":{\"title\":\"$:/plugins/oflg/fishing/filters/sortrandom.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oflg/fishing/filters/sortrandom.js\\ntype: application/javascript\\nmodule-type: filteroperator\\nFilter operator for return a random title in the list.\\n\\\\*/\\n(function () {\\n\\n    /*jslint node: true, browser: true */\\n    /*global $tw: false */\\n    \\\"use strict\\\";\\n\\n    /*\\n    Export our filter function\\n    */\\n    exports.sortrandom = function (source, operator, options) {\\n        var results = [];\\n\\n        source(function (tiddler, title) {\\n            results.push(title);\\n        });\\n\\n        results = results.sort(function () {\\n            return Math.random() - 0.5;\\n        });\\n\\n        return results;\\n    };\\n\\n})();\",\"type\":\"application/javascript\",\"module-type\":\"filteroperator\"},\"$:/plugins/oflg/fishing/fishingfloat\":{\"title\":\"$:/plugins/oflg/fishing/fishingfloat\",\"caption\":\"{{$:/plugins/oflg/fishing/icon}} {{$:/language/fishing/fishing}}\",\"description\":\"{{$:/language/fishing/fishingtip}}\",\"tags\":\"$:/tags/PageControls\",\"text\":\"\\\\whitespace trim\\n\\\\define lingo-base() $:/language/fishing/fishingfloat/\\n<$button\\n    popup=<<qualify \\\"$:/state/popup/fishingdeck\\\">>\\n    tooltip={{$:/language/fishing/fishingtip}}\\n    aria-label={{$:/language/fishing/fishingtip}}\\n    class=<<tv-config-toolbar-class>>\\n    selectedClass=\\\"tc-selected\\\"\\n>\\n    <$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n        {{$:/plugins/oflg/fishing/icon}}\\n    </$list>\\n    <$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n        <span class=\\\"tc-btn-text\\\">\\n            {{$:/language/fishing/fishingtip}}\\n        </span>\\n    </$list>\\n</$button>\\n<$reveal\\n    state=<<qualify \\\"$:/state/popup/fishingdeck\\\">>\\n    type=\\\"popup\\\"\\n    position=\\\"below\\\"\\n    animate=\\\"yes\\\"\\n    positionAllowNegative=\\\"yes\\\"\\n>\\n    <div\\n        class=\\\"tc-drop-down tc-popup-keep\\\"\\n        style=\\\"min-width:0;\\\"\\n    >\\n        <!-- creat fishingpond -->\\n        {{$:/plugins/oflg/fishing/fishingpond}}\\n        <!-- creat fishingrod -->\\n        {{$:/plugins/oflg/fishing/fishingrod}}\\n    </div>\\n</$reveal>\"},\"$:/plugins/oflg/fishing/fishingpond\":{\"title\":\"$:/plugins/oflg/fishing/fishingpond\",\"text\":\"<$list\\n    filter=\\\"due undue\\\"\\n    variable=\\\"pondname\\\"\\n>\\n    <$let\\n        pondordername={{{ [<pondname>addsuffix[order]] }}}\\n        fishingrod={{{ [{$:/temp/fishing!!fishingrod}!is[blank]else{$:/config/fishingpond/rod}] }}}\\n        fishingpond={{{ [<pondname>match[due]then{$:/config/fishingpond/duepond}] ~[<pondname>match[undue]then{$:/config/fishingpond/unduepond}] }}}\\n        fishingorder={{{ [<fishingrod>addprefix[$:/plugins/oflg/fishing/fishingrod/]getindex<pondordername>] ~[<pondname>match[due]then{$:/config/fishingpond/autoorder}] ~[<pondname>match[undue]then{$:/config/fishingpond/modifiedorder}] }}}\\n    >\\n        <$button\\n            tooltip={{$:/language/fishing/fishingpondtip}}\\n            aria-label={{$:/language/fishing/fishingpondtip}}\\n            class=\\\"tc-btn-invisible tc-tiddlylink\\\"\\n            style=\\\"padding-right:10px;\\\"\\n        >\\n            <$action-setfield\\n                $tiddler=\\\"$:/temp/fishing\\\"\\n                text=\\\"\\\"\\n                type=\\\"\\\"\\n                fishingrod=<<fishingrod>>\\n                fishingpond=<<fishingpond>>\\n                fishingorder=<<fishingorder>>\\n                list={{{ [subfilter<fishingrod>subfilter<fishingpond>subfilter<fishingorder>first[]format:titlelist[]] }}}\\n            />\\n            <$action-setfield\\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\\n                text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\\n            />\\n            <$action-navigate\\n                $to={{{ [list[$:/temp/fishing]first[]] }}}\\n            />\\n            <$action-popup\\n                $state=<<qualify \\\"$:/state/popup/$:/plugins/oflg/fishing/fishingdeck\\\">>\\n                $coords=\\\"\\\"\\n            />\\n                <$text text={{{ [[$:/language/fishing/]addsuffix<pondname>get[text]] }}}/>: <$count filter=\\\"[subfilter<fishingrod>subfilter<fishingpond>]\\\"/>\\n        </$button>\\n    </$let>\\n</$list>\"},\"$:/plugins/oflg/fishing/fishingrod\":{\"title\":\"$:/plugins/oflg/fishing/fishingrod\",\"text\":\"<div\\n    style=\\\"margin:5px 15px;\\\"\\n>\\n    <$edit-text\\n        tiddler=\\\"$:/temp/fishing\\\"\\n        field=\\\"fishingrod\\\"\\n        tag=\\\"input\\\"\\n        focus=\\\"true\\\"\\n        placeholder=\\\"[tag[?]!tag[!]]\\\"\\n        inputActions='<$action-setfield $tiddler=\\\"$:/temp/fishing\\\" list=\\\"\\\"/>'\\n    />\\n</div>\\n<div\\n    style=\\\"display:flex;margin:0 15px;justify-content:flex-start;align-items:center;font-size:10pt;\\\"\\n>\\n    <$list\\n        filter=\\\"[all[shadows+tiddlers]tag[$:/tags/FishingGrod]!is[draft]]\\\"\\n    >\\n        <$transclude\\n            tiddler=\\\"$:/plugins/oflg/fishing/ui/ViewTemplate/fishing/button\\\"\\n            mode=\\\"inline\\\"\\n        />\\n    </$list>\\n</div>\"},\"$:/plugins/oflg/fishing/icon\":{\"title\":\"$:/plugins/oflg/fishing/icon\",\"tags\":\"$:/tags/Image\",\"text\":\"<svg width=\\\"22pt\\\" height=\\\"22pt\\\" class=\\\"tc-image-home-button tc-image-button\\\" viewBox=\\\"0 0 128 128\\\" version=\\\"1.1\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <g id=\\\"fishingfloat\\\">\\n        <path d=\\\"M0 0L128 0L128 128L0 128L0 0Z\\\" id=\\\"Background\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" stroke=\\\"none\\\"/>\\n        <g clip-path=\\\"url(#mask_1)\\\">\\n            <path d=\\\"M114.476 39.6C118.316 26.8 116.396 11.44 100.716 8.56001C89.196 6.32001 80.876 12.72 73.516 21.04C64.876 30.96 57.196 42.8 45.676 49.52C34.476 56.24 6.63596 57.84 5.35596 39.92C4.71596 28.72 12.716 16.24 19.436 7.92C21.676 5.04 17.516 0.880004 15.276 3.76C3.75596 18.16 -11.604 47.92 13.676 57.2C27.116 62.32 42.476 59.76 53.676 50.8C64.236 42.8 71.276 31.28 80.556 22C85.356 16.88 90.476 12.72 97.836 13.68C110.956 15.28 111.916 26.8 108.716 37.68C108.396 37.68 108.396 38 108.076 38C94.316 48.56 128.876 50.8 114.476 39.6Z\\\" id=\\\"fishthread\\\" style={{{ [subfilter{$:/config/fishingpond/rod}subfilter{$:/config/fishingpond/duepond}] +[count[]compare:number:gt[0]then[fill:red;]else[]] }}} fill-rule=\\\"evenodd\\\" stroke=\\\"none\\\"/>\\n            <g id=\\\"fish\\\" transform=\\\"translate(17.119965 32.21466)\\\">\\n                <path d=\\\"M108.32 51.6253C108.32 51.3053 108 51.3053 108 50.9853C113.44 34.9853 111.84 17.3853 97.44 6.18534C97.6322 5.54471 94.7198 -6.07014 91.68 4.26533C91.68 4.26533 91.68 4.26533 91.68 4.26533C91.36 4.26533 91.36 4.58533 91.04 4.58533C77.28 15.1453 66.4 27.6253 61.6 43.6253C61.28 43.6253 60.64 43.9453 60.32 43.9453C52.96 48.1053 46.56 54.8253 45.92 63.4653C45.6 66.0253 48.48 66.6653 50.4 66.0253C52.96 64.7453 55.52 64.1053 58.08 63.4653C56.48 72.7453 52.96 81.7053 43.68 75.3053C38.24 71.7853 35.36 63.7853 34.4 58.0253C34.08 55.4653 30.24 53.5453 28.96 56.4253C27.04 61.2253 25.76 66.3453 25.44 71.1453C18.4 71.4653 9.76 65.0653 4.32 61.5453C2.72 60.5853 1.12 61.2253 0.479998 62.8253C-0.16 63.7853 -0.16 64.7453 0.479998 65.7053C7.52 76.2653 17.44 86.5053 29.28 90.9853C46.56 98.0253 68.32 91.9453 83.36 82.0253C85.6 80.4253 87.84 78.8253 89.76 76.9053C93.6 76.5853 97.44 78.8253 99.68 82.0253C100.64 83.3053 102.24 83.9453 103.52 82.9853L104.48 82.0253C110.56 73.3853 113.44 61.5453 108.32 51.6253L108.32 51.6253Z\\\" id=\\\"Shape\\\" stroke=\\\"none\\\"/>\\n                <path d=\\\"M53.28 58.6653C54.88 55.7853 57.12 53.2253 59.68 51.3053C59.36 52.9053 59.04 55.1453 59.04 57.3853L58.4 57.3853C56.8 57.7053 55.2 58.0253 53.28 58.6653L53.28 58.6653ZM102.24 75.9454C100.32 74.3454 98.08 73.0654 95.52 72.4254C99.04 68.2654 102.24 63.7854 104.48 58.9854C106.08 64.4254 104.48 70.5053 102.24 75.9454L102.24 75.9454Z\\\" id=\\\"Shape\\\" fill-rule=\\\"evenodd\\\" stroke=\\\"none\\\"/>\\n            </g>\\n        </g>\\n    </g>\\n</svg>\"},\"$:/language/fishing/fishing\":{\"title\":\"$:/language/fishing/fishing\",\"text\":\"Fishing\"},\"$:/language/fishing/fishingtip\":{\"title\":\"$:/language/fishing/fishingtip\",\"text\":\"Incremental learning\"},\"$:/language/fishing/fold\":{\"title\":\"$:/language/fishing/fold\",\"text\":\"Unfold or fold this tiddler\"},\"$:/language/fishing/learn\":{\"title\":\"$:/language/fishing/learn\",\"text\":\"Learn\"},\"$:/language/fishing/learntip\":{\"title\":\"$:/language/fishing/learntip\",\"text\":\"Learn this tiddler\"},\"$:/language/fishing/review\":{\"title\":\"$:/language/fishing/review\",\"text\":\"Review\"},\"$:/language/fishing/reps\":{\"title\":\"$:/language/fishing/reps\",\"text\":\"Reps\"},\"$:/language/fishing/lapses\":{\"title\":\"$:/language/fishing/lapses\",\"text\":\"Lapses\"},\"$:/language/fishing/forget\":{\"title\":\"$:/language/fishing/forget\",\"text\":\"Forget\"},\"$:/language/fishing/forgettip\":{\"title\":\"$:/language/fishing/forgettip\",\"text\":\"Forget the answer\"},\"$:/language/fishing/remember\":{\"title\":\"$:/language/fishing/remember\",\"text\":\"Remember\"},\"$:/language/fishing/remembertip\":{\"title\":\"$:/language/fishing/remembertip\",\"text\":\"Remember the answer\"},\"$:/language/fishing/grasp\":{\"title\":\"$:/language/fishing/grasp\",\"text\":\"Grasp\"},\"$:/language/fishing/grasptip\":{\"title\":\"$:/language/fishing/grasptip\",\"text\":\"Grasp the question\"},\"$:/language/fishing/discard\":{\"title\":\"$:/language/fishing/discard\",\"text\":\"Discard\"},\"$:/language/fishing/discardtip\":{\"title\":\"$:/language/fishing/discardtip\",\"text\":\"No more learning this tiddler\"},\"$:/language/fishing/fishingpondtip\":{\"title\":\"$:/language/fishing/fishingpondtip\",\"text\":\"Learn this group of tiddlers\"},\"$:/language/fishing/due\":{\"title\":\"$:/language/fishing/due\",\"text\":\"Due\"},\"$:/language/fishing/undue\":{\"title\":\"$:/language/fishing/undue\",\"text\":\"Undue\"},\"$:/language/fishing/new\":{\"title\":\"$:/language/fishing/new\",\"text\":\"New\"},\"$:/language/fishing/commonfiltertip\":{\"title\":\"$:/language/fishing/commonfiltertip\",\"text\":\"Commonly used Filter\"},\"$:/language/fishing/addfiltertip\":{\"title\":\"$:/language/fishing/addfiltertip\",\"text\":\"Add to commonly used Filter\"},\"$:/language/fishing/unaddfiltertip\":{\"title\":\"$:/language/fishing/unaddfiltertip\",\"text\":\"Unadd this Filter\"},\"$:/language/fishing/fillfiltertip\":{\"title\":\"$:/language/fishing/fillfiltertip\",\"text\":\"Fill in this Filter\"},\"$:/language/fishing/customisefiltertip\":{\"title\":\"$:/language/fishing/customisefiltertip\",\"text\":\"Customise the behaviour of this Filter\"},\"$:/language/fishing/setalias\":{\"title\":\"$:/language/fishing/setalias\",\"text\":\"Alias\"},\"$:/language/fishing/typealias\":{\"title\":\"$:/language/fishing/typealias\",\"text\":\"Type alias\"},\"$:/language/fishing/setorder\":{\"title\":\"$:/language/fishing/setorder\",\"text\":\"Learning order\"},\"$:/language/fishing/autoorder\":{\"title\":\"$:/language/fishing/autoorder\",\"text\":\"Auto priority\"},\"$:/language/fishing/dueorder\":{\"title\":\"$:/language/fishing/dueorder\",\"text\":\"Due date first-last\"},\"$:/language/fishing/undueorder\":{\"title\":\"$:/language/fishing/undueorder\",\"text\":\"Due date last-first\"},\"$:/language/fishing/modifiedorder\":{\"title\":\"$:/language/fishing/modifiedorder\",\"text\":\"modified date first-last\"},\"$:/language/fishing/unmodifiedorder\":{\"title\":\"$:/language/fishing/unmodifiedorder\",\"text\":\"modified date last-first\"},\"$:/language/fishing/createdorder\":{\"title\":\"$:/language/fishing/createdorder\",\"text\":\"Created date first-last\"},\"$:/language/fishing/uncreatedorder\":{\"title\":\"$:/language/fishing/uncreatedorder\",\"text\":\"Created date last-first\"},\"$:/language/fishing/azorder\":{\"title\":\"$:/language/fishing/azorder\",\"text\":\"Title A-Z\"},\"$:/language/fishing/zaorder\":{\"title\":\"$:/language/fishing/zaorder\",\"text\":\"Title Z-A\"},\"$:/language/fishing/randomorder\":{\"title\":\"$:/language/fishing/randomorder\",\"text\":\"Random\"},\"$:/language/fishing/viewfiltertip\":{\"title\":\"$:/language/fishing/viewfiltertip\",\"text\":\"View tiddlers related to this Filter\"},\"$:/language/fishing/exportdatatip\":{\"title\":\"$:/language/fishing/exportdatatip\",\"text\":\"Export learning data and upload it to open source platform to improve FSRS algorithm\"},\"$:/language/fishing/settings\":{\"title\":\"$:/language/fishing/settings\",\"text\":\"These settings let you customise the behaviour of Fishing.\"},\"$:/language/fishing/globalsettings\":{\"title\":\"$:/language/fishing/globalsettings\",\"text\":\"Global\"},\"$:/language/fishing/setparameter\":{\"title\":\"$:/language/fishing/setparameter\",\"text\":\"Parameter\"},\"$:/language/fishing/setretention\":{\"title\":\"$:/language/fishing/setretention\",\"text\":\"Retention\"},\"$:/language/fishing/setretentiontip\":{\"title\":\"$:/language/fishing/setretentiontip\",\"text\":\"Must be between 0.7 and 0.95\"},\"$:/language/fishing/settitletip\":{\"title\":\"$:/language/fishing/settitletip\",\"text\":\"Condition for showing caption of a tiddler.\"},\"$:/language/fishing/setlearntip\":{\"title\":\"$:/language/fishing/setlearntip\",\"text\":\"Condition for showing learning of a tiddler.\"},\"$:/language/fishing/pluginlibrary\":{\"title\":\"$:/language/fishing/pluginlibrary\",\"text\":\"TiddlyMemo Plugin Library\"},\"$:/language/fishing/pluginlibrarytip\":{\"title\":\"$:/language/fishing/pluginlibrarytip\",\"text\":\"This plugin library can be used to install and update plugins related to TiddlyMemo.\"},\"$:/plugins/oflg/fishing/macros/fsrs.js\":{\"title\":\"$:/plugins/oflg/fishing/macros/fsrs.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oflg/fishing/macros/fsrs.js\\ntype: application/javascript\\nmodule-type: macro\\n\\nUse Free Spaced Repetition Scheduler: https://github.com/open-spaced-repetition/free-spaced-repetition-scheduler\\n\\\\*/\\n(function () {\\n\\n    /*jslint node: true, browser: true */\\n    /*global $tw: false */\\n    \\\"use strict\\\";\\n\\n    exports.name = \\\"fsrs\\\";\\n\\n    exports.params = [\\n        { name: \\\"title\\\" },\\n        { name: \\\"grade\\\" }\\n    ];\\n\\n    /*\\n    Run the macro\\n    */\\n    exports.run = function (title, grade) {\\n        grade = (grade == \\\"0\\\" || grade == \\\"1\\\" || grade == \\\"2\\\") ? Number(grade) : -1;//Ratings for review have 0, 1, 2. Other ratings mean learn new tiddler.\\n\\n        var globalData = $tw.wiki.getTiddlerData('$:/plugins/oflg/fishing/data');\\n\\n        function faultToleranceValue(value, defaultValue) {\\n            return (typeof value === 'number' && !isNaN(value)) ? value : defaultValue;\\n        }\\n\\n        var increaseFactor = 60,\\n            difficultyDecay = -0.7,\\n            stabilityDecay = -0.2,\\n            requestRetention = faultToleranceValue(globalData.requestRetention, 0.9),\\n            totalCase = faultToleranceValue(globalData.totalCase, 0),\\n            totalDiff = faultToleranceValue(globalData.totalDiff, 0),\\n            totalReview = faultToleranceValue(globalData.totalReview, 0),\\n            defaultDifficulty = faultToleranceValue(globalData.defaultDifficulty, 5),\\n            defaultStability = faultToleranceValue(globalData.defaultStability, 2),\\n            stabilityDataArry = globalData.stabilityDataArry || [];\\n\\n        requestRetention = requestRetention >= 0.75 && requestRetention <= 0.95 ? requestRetention : 0.9;\\n\\n        var due, interval, difficulty, stability, retrievability, lapses, reps, review, history;\\n\\n        review = new Date().toISOString().replace(/\\\\-|T|:|\\\\.|Z/g, \\\"\\\");\\n\\n        if (grade == -1) {// learn new tiddler\\n            var addDay = Math.round(defaultStability * Math.log(requestRetention) / Math.log(0.9));\\n\\n            due = $tw.wiki.filterTiddlers(\\\"[[\\\" + addDay + \\\"]due[]]\\\")[0];\\n            interval = 0;\\n            difficulty = defaultDifficulty;\\n            stability = defaultStability;\\n            retrievability = 1;\\n            grade = -1;\\n            reps = 1;\\n            lapses = 0;\\n            history = \\\"[]\\\";\\n        } else {// review tiddler after learn\\n            var lastFieldsData = $tw.wiki.getTiddler(title).fields;\\n\\n            var lastDue = String(lastFieldsData.due),\\n                lastInterval = Number(lastFieldsData.interval),\\n                lastDifficulty = Number(lastFieldsData.difficulty),\\n                lastStability = Number(lastFieldsData.stability),\\n                lastRetrievability = Number(lastFieldsData.retrievability),\\n                lastGrade = Number(lastFieldsData.grade),\\n                lastLapses = Number(lastFieldsData.lapses),\\n                lastReps = Number(lastFieldsData.reps),\\n                lastReview = String(lastFieldsData.review),\\n                lastHistory = JSON.parse(lastFieldsData.history);\\n\\n            interval = Number($tw.wiki.filterTiddlers(\\\"[[\\\" + lastReview + \\\"]interval[]]\\\")[0]);\\n            retrievability = Math.exp(Math.log(0.9) * interval / lastStability);\\n            difficulty = Math.min(Math.max(lastDifficulty + retrievability - grade + 0.2, 1), 10);\\n\\n            if (grade == 0) {\\n                stability = defaultStability * Math.exp(-0.3 * (lastLapses + 1));\\n\\n                if (lastReps > 1) {\\n                    totalDiff = totalDiff - retrievability;\\n                }\\n                lapses = lastLapses + 1;\\n                reps = 1;\\n            } else {//grade == 1 || grade == 2\\n                stability = lastStability * (1 + increaseFactor * Math.pow(difficulty, difficultyDecay) * Math.pow(lastStability, stabilityDecay) * (Math.exp(1 - retrievability) - 1));\\n\\n                if (lastReps > 1) {\\n                    totalDiff = totalDiff + 1 - retrievability;\\n                }\\n                lapses = lastLapses;\\n                reps = lastReps + 1;\\n            }\\n\\n            totalCase = totalCase + 1;\\n            totalReview = totalReview + 1;\\n\\n            var addDay = Math.round(stability * Math.log(requestRetention) / Math.log(0.9));\\n\\n            due = $tw.wiki.filterTiddlers(\\\"[[\\\" + addDay + \\\"]due[]]\\\")[0];\\n\\n            lastHistory.push({\\n                due: lastDue,\\n                interval: lastInterval,\\n                difficulty: lastDifficulty,\\n                stability: lastStability,\\n                retrievability: lastRetrievability,\\n                grade: lastGrade,\\n                lapses: lastLapses,\\n                reps: lastReps,\\n                review: lastReview\\n            });\\n\\n            history = JSON.stringify(lastHistory);\\n\\n            // Adaptive defaultDifficulty\\n            if (totalCase > 100) {\\n                defaultDifficulty = 1 / Math.pow(totalReview, 0.3) * Math.pow(Math.log(requestRetention) / Math.max(Math.log(requestRetention + totalDiff / totalCase), 0), 1 / difficultyDecay) * 5 + (1 - 1 / Math.pow(totalReview, 0.3)) * defaultDifficulty;\\n\\n                totalDiff = 0;\\n                totalCase = 0;\\n            }\\n\\n            // Adaptive defaultStability\\n            if (lastReps === 1 && lastLapses === 0) {\\n                stabilityDataArry.push({\\n                    interval: interval,\\n                    retrievability: grade === \\\"0\\\" ? 0 : 1\\n                });\\n\\n                if (stabilityDataArry.length > 0 && stabilityDataArry.length % 50 === 0) {\\n                    var intervalSetArry = [];\\n\\n                    var sumRI2S = 0,\\n                        sumI2S = 0;\\n                    for (var s = 0; s < stabilityDataArry.length; s++) {\\n                        var ivl = stabilityDataArry[s].interval;\\n\\n                        if (intervalSetArry.indexOf(ivl) === -1) {\\n\\n                            intervalSetArry.push(ivl);\\n\\n                            var filterArry = stabilityDataArry.filter(function (fi) {\\n                                return fi.interval === ivl;\\n                            });\\n\\n                            var retrievabilitySum = filterArry.reduce(function (sum, e) {\\n                                return sum + e.retrievability;\\n                            }, 0);\\n\\n                            if (retrievabilitySum > 0) {\\n                                sumRI2S = sumRI2S + ivl * Math.log(retrievabilitySum / filterArry.length) * filterArry.length;\\n                                sumI2S = sumI2S + ivl * ivl * filterArry.length;\\n                            }\\n                        }\\n                    }\\n                    defaultStability = (Math.max(Math.log(0.9) / (sumRI2S / sumI2S), 0.1) + defaultStability) / 2;\\n                }\\n            }\\n        }\\n\\n        var tiddlerData = {\\n            due: due,\\n            interval: interval,\\n            difficulty: difficulty,\\n            stability: stability,\\n            retrievability: retrievability,\\n            lapses: lapses,\\n            reps: reps,\\n            grade: grade,\\n            review: review,\\n            history: history\\n        };\\n\\n        globalData = {\\n            requestRetention: requestRetention,\\n            increaseFactor: increaseFactor,\\n            difficultyDecay: difficultyDecay,\\n            stabilityDecay: stabilityDecay,\\n            totalCase: totalCase,\\n            totalDiff: totalDiff,\\n            totalReview: totalReview,\\n            defaultDifficulty: defaultDifficulty,\\n            defaultStability: defaultStability,\\n            stabilityDataArry: stabilityDataArry\\n        };\\n\\n        return { tiddlerData: tiddlerData, globalData: globalData };// Action was invoked\\n    };\\n\\n})();\",\"type\":\"application/javascript\",\"module-type\":\"macro\"},\"$:/plugins/oflg/fishing/styles.css\":{\"title\":\"$:/plugins/oflg/fishing/styles.css\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline\\n\\n.fishingrod-button {\\n    margin:0!important;\\n    padding:0 5px!important;\\n    width:auto!important;\\n}\\n\\n.dropdown-more {\\n    padding:3px 20px!important;\\n}\\n\\n.tc-fishing-learning {\\n    display:flex;\\n    justify-content:space-between;\\n    align-items:center;\\n    user-select:none;\\n}\\n\\n.tc-fishing-learning-count{\\n    color:grey;\\n}\\n\\n.tc-fishing-learning-grade .discard{\\n    color:black;\\n    margin-left:20px;\\n}\\n\\n.tc-fishing-learning-grade .learn{\\n    color:green;\\n    margin-left:20px;\\n}\\n\\n.tc-fishing-learning-grade .forget{\\n    color:red;\\n    margin-left:20px;\\n}\\n\\n.tc-fishing-learning-grade .remember{\\n    color:green;\\n    margin-left:20px;\\n}\\n\\n.tc-fishing-learning-grade .grasp{\\n    color:blue;\\n    margin-left:20px;\\n}\\n\\n.tc-fishing-learning-grade .more{\\n    padding-left:20px;\\n}\\n\\nblockquote.tc-fish-quote {\\n    border-left: 1px solid <<colour message-border>>;\\n    margin-right: 0;\\n    margin-left: 5px;\\n}\\n\\n\"},\"$:/config/ViewTemplateTitleFilters/fishing/caption\":{\"title\":\"$:/config/ViewTemplateTitleFilters/fishing/caption\",\"tags\":\"$:/tags/ViewTemplateTitleFilter\",\"list-before\":\"$:/config/ViewTemplateTitleFilters/system\",\"text\":\"[<currentTiddler>]\\n:cascade[all[shadows+tiddlers]tag[$:/tags/FishingFilter/caption]!is[draft]get[text]]\\n+[!is[blank]limit[1]then[$:/plugins/oflg/fishing/ui/ViewTemplate/fishing/caption]]\"},\"$:/config/FishingFilter/caption\":{\"title\":\"$:/config/FishingFilter/caption\",\"tags\":\"$:/tags/FishingFilter/caption\",\"text\":\"[<currentTiddler>tag[?]]\\n[<currentTiddler>tag[!]]\\n[list[$:/temp/fishing]match<currentTiddler>]\"},\"$:/config/EditTemplateFields/Visibility/due\":{\"title\":\"$:/config/EditTemplateFields/Visibility/due\",\"text\":\"hide\"},\"$:/config/EditTemplateFields/Visibility/interval\":{\"title\":\"$:/config/EditTemplateFields/Visibility/interval\",\"text\":\"hide\"},\"$:/config/EditTemplateFields/Visibility/grade\":{\"title\":\"$:/config/EditTemplateFields/Visibility/grade\",\"text\":\"hide\"},\"$:/config/EditTemplateFields/Visibility/difficulty\":{\"title\":\"$:/config/EditTemplateFields/Visibility/difficulty\",\"text\":\"hide\"},\"$:/config/EditTemplateFields/Visibility/stability\":{\"title\":\"$:/config/EditTemplateFields/Visibility/stability\",\"text\":\"hide\"},\"$:/config/EditTemplateFields/Visibility/retrievability\":{\"title\":\"$:/config/EditTemplateFields/Visibility/retrievability\",\"text\":\"hide\"},\"$:/config/EditTemplateFields/Visibility/lapses\":{\"title\":\"$:/config/EditTemplateFields/Visibility/lapses\",\"text\":\"hide\"},\"$:/config/EditTemplateFields/Visibility/reps\":{\"title\":\"$:/config/EditTemplateFields/Visibility/reps\",\"text\":\"hide\"},\"$:/config/EditTemplateFields/Visibility/review\":{\"title\":\"$:/config/EditTemplateFields/Visibility/review\",\"text\":\"hide\"},\"$:/config/EditTemplateFields/Visibility/history\":{\"title\":\"$:/config/EditTemplateFields/Visibility/history\",\"text\":\"hide\"},\"$:/config/fishingpond/rod\":{\"title\":\"$:/config/fishingpond/rod\",\"text\":\"[tag[?]!tag[!]]\"},\"$:/config/fishingpond/duepond\":{\"title\":\"$:/config/fishingpond/duepond\",\"text\":\"[!is[blank]] -[has[due]!days:due[1]] -[sameday:review<now YYYY0MM0DD>]\"},\"$:/config/fishingpond/unduepond\":{\"title\":\"$:/config/fishingpond/unduepond\",\"text\":\"[has[due]!days:due[1]] -[sameday:review<now YYYY0MM0DD>]\"},\"$:/config/fishingpond/autoorder\":{\"title\":\"$:/config/fishingpond/autoorder\",\"text\":\"[!sortsub:number{$:/config/fishingpond/autopriority}]\"},\"$:/config/fishingpond/dueorder\":{\"title\":\"$:/config/fishingpond/dueorder\",\"text\":\"[sort[due]]\"},\"$:/config/fishingpond/undueorder\":{\"title\":\"$:/config/fishingpond/undueorder\",\"text\":\"[!sort[due]]\"},\"$:/config/fishingpond/createdorder\":{\"title\":\"$:/config/fishingpond/createdorder\",\"text\":\"[sort[created]]\"},\"$:/config/fishingpond/uncreatedorder\":{\"title\":\"$:/config/fishingpond/uncreatedorder\",\"text\":\"[!sort[created]]\"},\"$:/config/fishingpond/modifiedorder\":{\"title\":\"$:/config/fishingpond/modifiedorder\",\"text\":\"[sort[modified]]\"},\"$:/config/fishingpond/unmodifiedorder\":{\"title\":\"$:/config/fishingpond/unmodifiedorder\",\"text\":\"[!sort[modified]]\"},\"$:/config/fishingpond/azorder\":{\"title\":\"$:/config/fishingpond/azorder\",\"text\":\"[sortan[]]\"},\"$:/config/fishingpond/zaorder\":{\"title\":\"$:/config/fishingpond/zaorder\",\"text\":\"[!sortan[]]\"},\"$:/config/fishingpond/randomorder\":{\"title\":\"$:/config/fishingpond/randomorder\",\"text\":\"[sortrandom[]]\"},\"$:/config/fishingpond/autopriority\":{\"title\":\"$:/config/fishingpond/autopriority\",\"text\":\"[{!!caption}search-replace::regexp[{{\\\\|\\\\|(.*)}}],[$1]tag[$:/tags/QuestionTemplate]count[]] =[{!!due}interval[]] =[{!!priority}else[0]] =[<currentTiddler>tags[]count[]] =[<currentTiddler>tagging[]has[due]count[]negate[]] =[<currentTiddler>tagging[]has[due]!days:due[1]count[]] =[<currentTiddler>tagging[]has[due]!days:due[1]count[]] +[sum[]]\"},\"$:/config/FishingFilter/learning\":{\"title\":\"$:/config/FishingFilter/learning\",\"tags\":\"$:/tags/FishingFilter/learning\",\"text\":\"[list[$:/temp/fishing]match<currentTiddler>]\"},\"$:/config/TiddlyMemoPluginLibrary\":{\"title\":\"$:/config/TiddlyMemoPluginLibrary\",\"caption\":\"{{$:/language/fishing/pluginlibrary}}\",\"tags\":\"$:/tags/PluginLibrary\",\"url\":\"https://tiddlymemo.org/library/\",\"text\":\"{{$:/language/fishing/pluginlibrarytip}}\"},\"$:/config/ShortcutInfo/fishing-fold\":{\"title\":\"$:/config/ShortcutInfo/fishing-fold\",\"text\":\"{{$:/language/fishing/fold}}\"},\"$:/config/ShortcutInfo/fishing-learn\":{\"title\":\"$:/config/ShortcutInfo/fishing-learn\",\"text\":\"{{$:/language/fishing/learn}}\"},\"$:/config/ShortcutInfo/fishing-forget\":{\"title\":\"$:/config/ShortcutInfo/fishing-forget\",\"text\":\"{{$:/language/fishing/forget}}\"},\"$:/config/ShortcutInfo/fishing-remember\":{\"title\":\"$:/config/ShortcutInfo/fishing-remember\",\"text\":\"{{$:/language/fishing/remember}}\"},\"$:/config/ShortcutInfo/fishing-grasp\":{\"title\":\"$:/config/ShortcutInfo/fishing-grasp\",\"text\":\"{{$:/language/fishing/grasp}}\"},\"$:/config/ShortcutInfo/fishing-discard\":{\"title\":\"$:/config/ShortcutInfo/fishing-discard\",\"text\":\"{{$:/language/fishing/discard}}\"},\"$:/config/shortcuts/fishing-fold\":{\"title\":\"$:/config/shortcuts/fishing-fold\",\"text\":\"ctrl-Enter\"},\"$:/config/shortcuts/fishing-learn\":{\"title\":\"$:/config/shortcuts/fishing-learn\",\"text\":\"ctrl-L\"},\"$:/config/shortcuts/fishing-forget\":{\"title\":\"$:/config/shortcuts/fishing-forget\",\"text\":\"ctrl-0\"},\"$:/config/shortcuts/fishing-remember\":{\"title\":\"$:/config/shortcuts/fishing-remember\",\"text\":\"ctrl-1\"},\"$:/config/shortcuts/fishing-grasp\":{\"title\":\"$:/config/shortcuts/fishing-grasp\",\"text\":\"ctrl-2\"},\"$:/config/shortcuts/fishing-discard\":{\"title\":\"$:/config/shortcuts/fishing-discard\",\"text\":\"ctrl-D\"},\"$:/core/ui/ControlPanel/Settings\":{\"title\":\"$:/core/ui/ControlPanel/Settings\",\"caption\":\"{{$:/language/ControlPanel/Settings/Caption}}\",\"tags\":\"$:/tags/ControlPanel\",\"text\":\"<div class=\\\"tc-control-panel\\\">\\n<$macrocall $name=\\\"tabs\\\" tabsList=\\\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/SettingsTab]!is[draft]]\\\" default=\\\"$:/core/ui/ControlPanel/Settings/TiddlyWiki\\\" explicitState=\\\"$:/state/tab--697582678\\\"/>\\n</div>\\n\"},\"$:/core/ui/ControlPanel/Settings/Fishing/fishing\":{\"title\":\"$:/core/ui/ControlPanel/Settings/Fishing/fishing\",\"caption\":\"{{$:/language/fishing/globalsettings}}\",\"tags\":\"$:/tags/ControlPanel/Settings/Fishing\",\"text\":\"!!!{{$:/language/fishing/setparameter}}\\n\\n|{{$:/language/fishing/setretention}} |<$edit-text tiddler=\\\"$:/plugins/oflg/fishing/data\\\" index=\\\"requestRetention\\\" placeholder=\\\"0.9\\\" tag=\\\"input\\\"/><br/>@@color:red;font-size:10px;{{$:/language/fishing/setretentiontip}}@@ |\\n\\n!!!{{$:/language/ControlPanel/Cascades/Caption}}\\n\\n{{$:/language/fishing/settitletip}}\\n{{$:/tags/FishingFilter/caption||$:/snippets/ListTaggedCascade}}\\n\\n{{$:/language/fishing/setlearntip}}\\n{{$:/tags/FishingFilter/learning||$:/snippets/ListTaggedCascade}}\"},\"$:/core/ui/ControlPanel/Settings/Fishing\":{\"title\":\"$:/core/ui/ControlPanel/Settings/Fishing\",\"caption\":\"{{$:/language/fishing/fishing}}\",\"list-after\":\"$:/core/ui/ControlPanel/Settings/TiddlyWiki\",\"tags\":\"$:/tags/ControlPanel/SettingsTab\",\"text\":\"{{$:/language/fishing/settings}}<br>\\n\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Settings/Fishing]]\\\">\\n\\n    <div style=\\\"border-top:1px solid #eee;\\\">\\n\\n        !! <$transclude field=\\\"caption\\\"/>\\n\\n        <$transclude/>\\n\\n    </div>\\n\\n</$list>\"},\"$:/core/ui/ControlPanel/Settings/TiddlyWiki\":{\"title\":\"$:/core/ui/ControlPanel/Settings/TiddlyWiki\",\"caption\":\"TiddlyWiki\",\"tags\":\"$:/tags/ControlPanel/SettingsTab\",\"text\":\"\\\\define lingo-base() $:/language/ControlPanel/Settings/\\n\\n<<lingo Hint>>\\n\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Settings]]\\\">\\n\\n<div style=\\\"border-top:1px solid #eee;\\\">\\n\\n!! <$link><$transclude field=\\\"caption\\\"/></$link>\\n\\n<$transclude/>\\n\\n</div>\\n\\n</$list>\\n\"},\"$:/core/ui/KeyboardShortcuts/fishing-fold\":{\"title\":\"$:/core/ui/KeyboardShortcuts/fishing-fold\",\"key\":\"((fishing-fold))\",\"tags\":\"$:/tags/KeyboardShortcut\",\"text\":\"<$list\\n    filter=\\\"[list[$:/temp/fishing]first[]!is[blank]]\\\"\\n>\\n    <$action-setfield\\n        $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\\n        text={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]get[text]match[hide]then[show]else[hide]] }}}\\n    />\\n</$list>\"},\"$:/plugins/oflg/fishing/ui/ViewTemplate/fishing/button\":{\"title\":\"$:/plugins/oflg/fishing/ui/ViewTemplate/fishing/button\",\"code-body\":\"yes\",\"text\":\"\\\\define fishing-button-icon()\\n<$list\\n    filter=\\\"[all[current]!has[custom-icon]]\\\"\\n    variable=\\\"no-custom-icon\\\"\\n>\\n    <$transclude\\n        tiddler={{!!icon}}\\n    />\\n</$list>\\n\\\\end\\n\\n\\\\define fishing-button-caption()\\n<$list\\n    filter=\\\"[all[current]!has[custom-caption]]\\\"\\n    variable=\\\"no-custom-caption\\\"\\n>\\n   <$wikify\\n        name=\\\"caption-text\\\"\\n        text={{!!caption}}\\n        mode=\\\"inline\\\"\\n        output=\\\"text\\\"\\n    >\\n        <<caption-text>>\\n   </$wikify>\\n</$list>\\n\\\\end\\n\\n\\\\define fishing-button-tooltip()\\n{{!!description}} <$macrocall\\n    $name=\\\"displayshortcuts\\\"\\n    $output=\\\"text/plain\\\"\\n    shortcuts={{!!key}}\\n    prefix=\\\"` - [\\\"\\n    separator=\\\"] [\\\"\\n    suffix=\\\"]`\\\"\\n/>\\n\\\\end\\n\\n\\\\define fishing-button()\\n<$list\\n    filter={{!!condition}}\\n    variable=\\\"list-condition\\\"\\n>\\n    <$wikify\\n        name=\\\"tooltip-text\\\"\\n        text=<<fishing-button-tooltip>>\\n        mode=\\\"inline\\\"\\n        output=\\\"text\\\"\\n    >\\n        <$list\\n            filter=\\\"[all[current]!has[popup]]\\\"\\n            variable=\\\"no-popup\\\"\\n        >\\n            <$set\\n                name=disabled\\n                filter={{!!condition-disabled}}\\n            >\\n                <$button\\n                    class=\\\"tc-btn-invisible $(buttonClasses)$\\\"\\n                    tooltip=<<tooltip-text>>\\n                    aria-label=<<tooltip-text>>\\n                    actions={{!!actions}}\\n                    disabled=<<disabled>>\\n                >\\n                    <<fishing-button-icon>>\\n                    <<fishing-button-caption>>\\n                    <$transclude\\n                        tiddler=<<currentTiddler>>\\n                        field=\\\"text\\\"\\n                    />\\n                </$button>\\n            </$set>\\n        </$list>\\n        <$list\\n            filter=\\\"[all[current]has[popup]]\\\"\\n            variable=\\\"popup\\\"\\n        >\\n            <$set\\n                name=\\\"popup-state\\\"\\n                value=<<qualify \\\"$:/state/FishingButtonPopup\\\">>\\n            >\\n                <$set\\n                    name=disabled\\n                    filter={{!!condition-disabled}}\\n                >\\n                    <$button\\n                        popup=<<popup-state>>\\n                        class=\\\"tc-popup-keep tc-btn-invisible $(buttonClasses)$\\\"\\n                        selectedClass=\\\"tc-selected\\\"\\n                        tooltip=<<tooltip-text>>\\n                        actions={{!!actions}}\\n                        disabled=<<disabled>>\\n                    >\\n                        <<fishing-button-icon>>\\n                        <<fishing-button-caption>>\\n                        <$transclude\\n                            tiddler=<<currentTiddler>>\\n                            field=\\\"text\\\"\\n                        />\\n                    </$button>\\n                </$set>\\n                <$reveal\\n                    state=<<popup-state>>\\n                    type=\\\"popup\\\"\\n                    position={{{ [{!!position}] ~[[below]] }}}\\n                    animate=\\\"yes\\\"\\n                    tag=\\\"span\\\"\\n                >\\n                    <div\\n                        class=\\\"tc-drop-down tc-popup-keep\\\"\\n                        style=\\\"min-width:0;\\\"\\n                    >\\n                        <$transclude\\n                            tiddler={{!!popup}}\\n                            mode=\\\"inline\\\"\\n                        />\\n                    </div>\\n                </$reveal>\\n            </$set>\\n        </$list>\\n    </$wikify>\\n</$list>\\n\\\\end\\n\\n\\\\define fishing-button-outer()\\n<$set\\n    name=\\\"buttonClasses\\\"\\n    value={{!!button-classes}}\\n>\\n    <<fishing-button>>\\n</$set>\\n\\\\end\\n\\n<<fishing-button-outer>>\"},\"$:/plugins/oflg/fishing/ui/ViewTemplate/fishing/caption\":{\"title\":\"$:/plugins/oflg/fishing/ui/ViewTemplate/fishing/caption\",\"code-body\":\"yes\",\"text\":\"<<toc-caption>>\"},\"$:/plugins/oflg/fishing/ui/ViewTemplate/subtitle/due\":{\"title\":\"$:/plugins/oflg/fishing/ui/ViewTemplate/subtitle/due\",\"tags\":\"$:/tags/ViewTemplate/Subtitle\",\"list-after\":\"$:/plugins/oflg/fishing/ui/ViewTemplate/subtitle/review\",\"code-body\":\"yes\",\"text\":\"<$list\\n    filter=\\\"[<currentTiddler>has[due]]\\\"\\n>\\n    {{$:/language/fishing/due}}: <$view field=\\\"due\\\" format=\\\"relativedate\\\"/>\\n</$list>\"},\"$:/plugins/oflg/fishing/ui/ViewTemplate/fishing/fold\":{\"title\":\"$:/plugins/oflg/fishing/ui/ViewTemplate/fishing/fold\",\"tags\":\"$:/tags/ViewTemplate\",\"list-after\":\"$:/core/ui/ViewTemplate/title\",\"code-body\":\"yes\",\"text\":\"<$list\\n    filter=\\\"[{!!title}] :cascade[all[shadows+tiddlers]tag[$:/tags/FishingFilter/learning]!is[draft]get[text]] +[!is[blank]limit[1]]\\\"\\n    variable=\\\"null\\\"\\n>\\n    <$reveal\\n        state=\\\"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar\\\"\\n        type=\\\"nomatch\\\"\\n        text=\\\"show\\\"\\n        animate=\\\"yes\\\"\\n    >\\n            <$reveal\\n                    tag=\\\"div\\\"\\n                    type=\\\"nomatch\\\"\\n                    stateTitle=<<folded-state>>\\n                    text=\\\"hide\\\"\\n                    default=\\\"show\\\"\\n                    retain=\\\"yes\\\"\\n                    animate=\\\"yes\\\"\\n            >\\n                    <$button\\n                    tooltip={{$:/language/Buttons/Fold/Hint}}\\n                    aria-label={{$:/language/Buttons/Fold/Caption}}\\n                    class=\\\"tc-fold-banner\\\"\\n                    >\\n                            <$action-sendmessage\\n                                    $message=\\\"tm-fold-tiddler\\\"\\n                                    $param=<<currentTiddler>>\\n                                    foldedState=<<folded-state>>\\n                            />\\n                            {{$:/core/images/chevron-up}}\\n                    </$button>\\n            </$reveal>\\n            <$reveal\\n                    tag=\\\"div\\\"\\n                    type=\\\"nomatch\\\"\\n                    stateTitle=<<folded-state>>\\n                    text=\\\"show\\\"\\n                    default=\\\"show\\\"\\n                    retain=\\\"yes\\\"\\n                    animate=\\\"yes\\\"\\n            >\\n                    <$button\\n                    tooltip={{$:/language/Buttons/Unfold/Hint}}\\n                    aria-label={{$:/language/Buttons/Unfold/Caption}}\\n                    class=\\\"tc-unfold-banner\\\"\\n                    >\\n                    <$action-sendmessage\\n                            $message=\\\"tm-fold-tiddler\\\"\\n                            $param=<<currentTiddler>>\\n                            foldedState=<<folded-state>>\\n                    />\\n                    {{$:/core/images/chevron-down}}\\n                    </$button>\\n            </$reveal>\\n    </$reveal>\\n</$list>\"},\"$:/plugins/oflg/fishing/ui/ViewTemplate/subtitle/lapses\":{\"title\":\"$:/plugins/oflg/fishing/ui/ViewTemplate/subtitle/lapses\",\"tags\":\"$:/tags/ViewTemplate/Subtitle\",\"list-after\":\"$:/plugins/oflg/fishing/ui/ViewTemplate/subtitle/reps\",\"code-body\":\"yes\",\"text\":\"<$list\\n    filter=\\\"[<currentTiddler>has[lapses]]\\\"\\n>\\n    {{$:/language/fishing/lapses}}: <$view field=\\\"lapses\\\" format=\\\"text\\\"/>\\n</$list>\"},\"$:/plugins/oflg/fishing/ui/ViewTemplate/fishing/learning\":{\"title\":\"$:/plugins/oflg/fishing/ui/ViewTemplate/fishing/learning\",\"tags\":\"$:/tags/ViewTemplate\",\"list-after\":\"$:/core/ui/ViewTemplate/body\",\"code-body\":\"yes\",\"text\":\"<$list\\n    filter=\\\"[{!!title}] :cascade[all[shadows+tiddlers]tag[$:/tags/FishingFilter/learning]!is[draft]get[text]] +[!is[blank]limit[1]]\\\"\\n    variable=\\\"targetTiddler\\\"\\n>\\n    <$reveal\\n        state=<<folded-state>>\\n        type=\\\"nomatch\\\"\\n        text=\\\"hide\\\"\\n        animate=\\\"yes\\\"\\n    >\\n        <div\\n            class=\\\"tc-fishing-learning\\\"\\n        >\\n            <!-- creat count -->\\n            <div\\n                class=\\\"tc-fishing-learning-count\\\"\\n            >\\n                <$count filter=\\\"[subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}]\\\"/>\\n            </div>\\n            <!-- creat grade button -->\\n            <div\\n                class=\\\"tc-fishing-learning-grade\\\"\\n            >\\n                <$list\\n                    filter=\\\"[all[shadows+tiddlers]tag[$:/tags/FishingHook]!is[draft]]\\\"\\n                >\\n                    <$transclude\\n                        tiddler=\\\"$:/plugins/oflg/fishing/ui/ViewTemplate/fishing/button\\\"\\n                        mode=\\\"inline\\\"\\n                    />\\n                </$list>\\n            </div>\\n        </div>\\n    </$reveal>\\n</$list>\"},\"$:/plugins/oflg/fishing/ui/ViewTemplate/subtitle/reps\":{\"title\":\"$:/plugins/oflg/fishing/ui/ViewTemplate/subtitle/reps\",\"tags\":\"$:/tags/ViewTemplate/Subtitle\",\"list-after\":\"$:/plugins/oflg/fishing/ui/ViewTemplate/subtitle/due\",\"code-body\":\"yes\",\"text\":\"<$list\\n    filter=\\\"[<currentTiddler>has[reps]]\\\"\\n>\\n    {{$:/language/fishing/reps}}: <$view field=\\\"reps\\\" format=\\\"text\\\"/>\\n</$list>\"},\"$:/plugins/oflg/fishing/ui/ViewTemplate/subtitle/review\":{\"title\":\"$:/plugins/oflg/fishing/ui/ViewTemplate/subtitle/review\",\"tags\":\"$:/tags/ViewTemplate/Subtitle\",\"code-body\":\"yes\",\"text\":\"<$list\\n    filter=\\\"[<currentTiddler>has[review]]\\\"\\n>\\n    {{$:/language/fishing/review}}: <$view field=\\\"review\\\" format=\\\"relativedate\\\"/>\\n</$list>\"},\"$:/plugins/oflg/fishing/widgets/action-exportdata.js\":{\"title\":\"$:/plugins/oflg/fishing/widgets/action-exportdata.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oflg/fishing/widgets/action-exportdata.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nAction widget to export fsrs data.\\n\\\\*/\\n(function () {\\n\\n    /*jslint node: true, browser: true */\\n    /*global $tw: false */\\n    \\\"use strict\\\";\\n\\n    var Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\n    var ExportdataWidget = function (parseTreeNode, options) {\\n        this.initialise(parseTreeNode, options);\\n    };\\n\\n    /*\\n    Inherit from the base widget class\\n    */\\n    ExportdataWidget.prototype = new Widget();\\n\\n    /*\\n    Render this widget into the DOM\\n    */\\n    ExportdataWidget.prototype.render = function (parent, nextSibling) {\\n        this.computeAttributes();\\n        this.execute();\\n    };\\n\\n    /*\\n    Compute the internal state of the widget\\n    */\\n    ExportdataWidget.prototype.execute = function () {\\n        this.actionTiddler = this.getAttribute(\\\"$tiddler\\\", \\\"$:/temp/fishing/fsrsdata\\\");\\n        this.actionTimestamp = this.getAttribute(\\\"$timestamp\\\", \\\"yes\\\") === \\\"yes\\\";\\n    };\\n\\n    /*\\n    Refresh the widget by ensuring our attributes are up to date\\n    */\\n    ExportdataWidget.prototype.refresh = function (changedTiddlers) {\\n        var changedAttributes = this.computeAttributes();\\n        if (changedAttributes[\\\"$tiddler\\\"] || changedAttributes[\\\"$timestamp\\\"]) {\\n            this.refreshSelf();\\n            return true;\\n        }\\n        return this.refreshChildren(changedTiddlers);\\n    };\\n\\n    /*\\n    Invoke the action associated with this widget\\n    */\\n    ExportdataWidget.prototype.invokeAction = function (triggeringWidget, event) {\\n        var title = this.actionTiddler;\\n\\n        var tiddlerArry = $tw.wiki.filterTiddlers(\\\"[has[history]]\\\");\\n\\n        var data = {};\\n\\n        var globalData = $tw.wiki.getTiddlerData('$:/plugins/oflg/fishing/data');\\n\\n        data.globalData = globalData;\\n\\n        data.cardsData = [];\\n\\n        function getJson(jsonString) {\\n            jsonString = jsonString || \\\"[]\\\";\\n            var result = [];\\n            try {\\n                result = JSON.parse(jsonString);\\n            } catch (error) {\\n                console.log(\\\"JSON error : \\\" + error);\\n                console.log(jsonString);\\n            }\\n            return result;\\n        }\\n\\n        for (var f = 0; f < tiddlerArry.length; f++) {\\n\\n            var tiddlerData = $tw.wiki.getTiddler(tiddlerArry[f]).fields;\\n\\n            var tiddlerDue = String(tiddlerData.due),\\n                tiddlerInterval = Number(tiddlerData.interval),\\n                tiddlerDifficulty = Number(tiddlerData.difficulty),\\n                tiddlerStability = Number(tiddlerData.stability),\\n                tiddlerRetrievability = Number(tiddlerData.retrievability),\\n                tiddlerGrade = Number(tiddlerData.grade),\\n                tiddlerLapses = Number(tiddlerData.lapses),\\n                tiddlerReps = Number(tiddlerData.reps),\\n                tiddlerReview = String(tiddlerData.review),\\n                tiddlerHistory = String(tiddlerData.history);\\n\\n            var tiddlerHistoryArry = getJson(tiddlerHistory);\\n\\n            if (typeof tiddlerGrade === 'number' && !isNaN(tiddlerGrade)) {\\n\\n                tiddlerHistoryArry.push({\\n                    due: tiddlerDue,\\n                    interval: tiddlerInterval,\\n                    difficulty: tiddlerDifficulty,\\n                    stability: tiddlerStability,\\n                    retrievability: tiddlerRetrievability,\\n                    grade: tiddlerGrade,\\n                    lapses: tiddlerLapses,\\n                    reps: tiddlerReps,\\n                    review: tiddlerReview\\n                });\\n            }\\n\\n            if (tiddlerHistoryArry.length > 0) {\\n\\n                data.cardsData.push(tiddlerHistoryArry);\\n            }\\n        }\\n\\n        var creationFields = this.actionTimestamp ? $tw.wiki.getCreationFields() : undefined,\\n            modificationFields = this.actionTimestamp ? $tw.wiki.getModificationFields() : undefined;\\n\\n        $tw.wiki.addTiddler(\\n            new $tw.Tiddler($tw.wiki.getCreationFields(), { title, text: JSON.stringify(data) }, modificationFields)\\n        );\\n\\n        return true;// Action was invoked\\n    };\\n\\n    exports[\\\"action-exportdata\\\"] = ExportdataWidget;\\n})();\",\"type\":\"application/javascript\",\"module-type\":\"widget\"},\"$:/plugins/oflg/fishing/widgets/action-learn.js\":{\"title\":\"$:/plugins/oflg/fishing/widgets/action-learn.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oflg/fishing/widgets/action-learn.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nAction widget to set fishing fields on tiddlers.\\n\\\\*/\\n(function () {\\n\\n    /*jslint node: true, browser: true */\\n    /*global $tw: false */\\n    \\\"use strict\\\";\\n\\n    var Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\n    var LearnWidget = function (parseTreeNode, options) {\\n        this.initialise(parseTreeNode, options);\\n    };\\n\\n    /*\\n    Inherit from the base widget class\\n    */\\n    LearnWidget.prototype = new Widget();\\n\\n    /*\\n    Render this widget into the DOM\\n    */\\n    LearnWidget.prototype.render = function (parent, nextSibling) {\\n        this.computeAttributes();\\n        this.execute();\\n    };\\n\\n    /*\\n    Compute the internal state of the widget\\n    */\\n    LearnWidget.prototype.execute = function () {\\n        this.actionTiddler = this.getAttribute(\\\"$tiddler\\\", this.getVariable(\\\"currentTiddler\\\"));\\n        this.actionGrade = this.getAttribute(\\\"$grade\\\");\\n        this.actionTimestamp = this.getAttribute(\\\"$timestamp\\\", \\\"yes\\\") === \\\"yes\\\";\\n    };\\n\\n    /*\\n    Refresh the widget by ensuring our attributes are up to date\\n    */\\n    LearnWidget.prototype.refresh = function (changedTiddlers) {\\n        var changedAttributes = this.computeAttributes();\\n        if (changedAttributes[\\\"$tiddler\\\"] || changedAttributes[\\\"$grade\\\"] || changedAttributes[\\\"$timestamp\\\"]) {\\n            this.refreshSelf();\\n            return true;\\n        }\\n        return this.refreshChildren(changedTiddlers);\\n    };\\n\\n    /*\\n    Invoke the action associated with this widget\\n    */\\n    LearnWidget.prototype.invokeAction = function (triggeringWidget, event) {\\n        var title = this.actionTiddler,\\n            grade = this.actionGrade;\\n\\n        var data = $tw.macros.fsrs.run(title, grade);//Use Free Spaced Repetition Scheduler in $:/plugins/oflg/fishing/macros/fsrs.js\\n\\n        var creationFields = this.actionTimestamp ? $tw.wiki.getCreationFields() : undefined,\\n            modificationFields = this.actionTimestamp ? $tw.wiki.getModificationFields() : undefined;\\n\\n        $tw.wiki.addTiddler(\\n            new $tw.Tiddler(creationFields, $tw.wiki.getTiddler(title), modificationFields, data.tiddlerData)\\n        );\\n\\n        $tw.wiki.addTiddler(\\n            new $tw.Tiddler(creationFields, $tw.wiki.getTiddler(\\\"$:/plugins/oflg/fishing/data\\\"), modificationFields, {\\n                text: JSON.stringify(data.globalData)\\n            })\\n        );\\n\\n        return true;// Action was invoked\\n    };\\n\\n    exports[\\\"action-learn\\\"] = LearnWidget;\\n})();\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}